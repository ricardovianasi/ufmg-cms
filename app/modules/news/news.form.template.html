<div class="page-title">
    <div class="row flex-center">
        <div class="col-md-6">
            <div class="title-env">
                <h1 class="title">
                    <span ng-if="news.id">
                        <span ng-if="news.title">Editar Notícia - {{ news.title }}</span>
                    <span ng-if="!news.title">Editar Notícia</span>
                    </span>
                    <span ng-if="!news.id">
                        <span ng-if="news.title">Nova Notícia - {{ news.title }}</span>
                    <span ng-if="!news.title">Nova Notícia</span>
                    </span>
                </h1>
            </div>
        </div>
        <div class="col-md-6">
            <div class="breadcrumb-env">
                <ol class="breadcrumb bc-1">
                    <li>
                        <a href="#/">
                            <i class="fa-home"></i>Home
                        </a>
                    </li>
                    <li>
                        <a href="#/news">
                            <strong>Notícias</strong>
                        </a>
                    </li>
                    <li class="active">
                        <a href="#/news/new">
                            <strong>Nova Notícia</strong>
                        </a>
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-8 panel panel-default">
        <form class="form" name="formNews" novalidate>
            <!-- TITLE -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group" ng-class="{'has-error': formNews.title.$error.required && !formNews.title.$valid}">
                        <label>Título</label>
<<<<<<< HEAD
                        <input type="text"
                               class="form-control"
                               ng-model="news.title"
                               ng-maxlength="96"
                               maxlength="97"
                               name="title"
                               required>

                      <div ng-show="!formNews.title.$valid" class="error-message" role="alert">
                        <div ng-show="formNews.title.$error.required">Campo obrigatório</div>
                      </div>
                      <div ng-show="!formNews.title.$valid" class="error-message" role="alert">
                        <div ng-show="formNews.title.$error.maxlength">Tamanho máximo de 96 caracteres</div>
                      </div>
=======
                        <input ng-maxlength="95" maxlength="96" type="text" class="form-control" ng-model="news.title" name="title" required>
                        <div ng-show="!formNews.title.$valid" class="error-message" role="alert">
                            <div ng-show="formNews.title.$error.required">Campo obrigatório</div>
                        </div>
                        <div ng-show="!formNews.title.$valid" class="error-message" role="alert">
                            <div ng-show="formNews.title.$error.maxlength">Tamanho máximo de 96 caracteres</div>
                        </div>
>>>>>>> develop
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="title">Slug</label>
                        <input id="title" type="text" name="slug" class="form-control" ng-model="news.slug.slug">
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- SUBTITLE -->
                <div class="col-xs-6">
                    <div class="form-group">
                        <label>Bigode</label>
                        <input type="text" class="form-control" ng-model="news.subtitle">
                    </div>
                </div>
                <!-- AUTHOR -->
                <div class="col-xs-6">
                    <div class="form-group">
                        <label>Autor</label>
                        <input type="text" class="form-control" ng-model="news.author">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <!-- HIGHLIGHT -->
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="well well-sm">
                                <label>
                                    <input type="checkbox"
                                           ng-model="news.highlight"
                                           ng-checked="news.highlight"> Notícia Destaque
                                </label>
                            </div>
                        </div>
                    </div>
                    <!-- HIGHLIGHT UFMG -->
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="well well-sm">
                                <label>
                                    <input type="checkbox"
                                           ng-model="news.highlight_ufmg"
                                           ng-checked="news.highlight_ufmg"> Notícia UFMG
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- CATEGORY -->
                <div class="col-xs-12">
                    <div class="form-group" ng-class="{'has-error': formNews.category.$error.required && !formNews.category.$valid}">
                        <label>Categoria</label>
                        <select class="form-control" ng-model="news.category" name="category" ng-options="category.id as category.name for category in categories.items"
                            required></select>
                            <div ng-show="!formNews.category.$valid" class="error-message" role="alert">
                                <div ng-show="formNews.category.$error.required">Campo obrigatório</div>
                            </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- TYPE -->
                <div class="col-xs-12">
                    <div class="form-group" ng-class="{'has-error': formNews.type.$error.required && !formNews.type.$valid}">
                        <label>Origem</label>
                        <select class="form-control" ng-model="news.type" name="type" ng-options="type.id as type.name for type in types.items" required></select>
                        <div ng-show="!formNews.type.$valid" class="error-message" role="alert">
                            <div ng-show="formNews.type.$error.required">Campo obrigatório</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" ng-show="news.type == 4">
                <div class="col-md-6 form-group">
                    <div class="checkbox">
                        <div class="well well-sm">
                            <label>
                                <input type="checkbox"
                                       ng-model="news.has_video"
                                       ng-checked=""> Notícia TV com video
                            </label>
                        </div>
                    </div>
                </div>
                <!-- TYPE -->
                <div class="col-xs-6" ng-show="news.has_video">
                    <div class="form-group">
                        <label>Editoria</label>
                        <select class="form-control" ng-model="news.tv_program" ng-options="program.id as program.name for program in tvPrograms"></select>
                    </div>
                </div>
            </div>
            <!--TAGS -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label>
                            Tags
                            <small>(Digite a tag e pressione ENTER para inserir)</small>
                        </label>
                        <tags-input add-on-comma="false" ng-model="news.tags">
                            <auto-complete source="findTags($query)" max-results-to-show="1000" minLength="1"></auto-complete>
                        </tags-input>
                    </div>
                </div>
            </div>
            <!-- THUMB-->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label>Thumb:</label>
                        <input type="file" class="form-control" ngf-select ng-model="news_thumb" ngf-multiple="false" ng-show="!news.thumb" style="height:auto">
                        <div class="clearfix form-control" ng-show="news.thumb">
                            <div class="pull-left">{{ news.thumb_name }}</div>
                            <div class="pull-right">
                                <span class="label label-danger remove-image-news" ng-show="news.thumb" ng-click="removeImage('pdf')">
                                    <span class="fa fa-remove"></span> REMOVER
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TEXT -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group" ng-class="{'has-error': formNews.text.$error.required && !formNews.text.$valid}">
                        <label>Conteúdo</label>
                        <textarea cols="30" rows="30" class="form-control" ng-model="news.text" redactor imagencrop-options="imagencropOptions" audioUpload-options="audioUploadOptions"
                            uploadfiles-options="uploadfilesOptions" name="text" required></textarea>
                            <div ng-show="!formNews.text.$valid" class="error-message" role="alert">
                                <div ng-show="formNews.text.$error.required">Campo obrigatório</div>
                            </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label>Galeria</label>
                        <select class="form-control" ng-model="news.gallery" ng-options="gallery.id as gallery.title for gallery in galleries"></select>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="col-xs-4">
        <publishment-options route-model="news"></publishment-options>
    </div>
</div>
<ng-include src="'components/widget/partials/redactor-templates.html'"></ng-include>
