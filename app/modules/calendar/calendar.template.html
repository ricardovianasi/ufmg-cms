<div class="page-title">

    <div class="title-env">
        <h1 class="title">Calendário Acadêmico</h1>
    </div>

    <div class="breadcrumb-env">

        <ol class="breadcrumb bc-1">
            <li>
                <a href="#/"><i class="fa-home"></i>Home</a>
            </li>
            <li class="active">
                <a href="#/calendar">
                    <strong>Calendário Acadêmico</strong>
                </a>
            </li>
        </ol>

    </div>
</div>
<div class=row>
    <div class=col-xs-12>
        <div class="panel panel-default">
            <div class="btn-toolbar">
                <div class="btn-group focus-btn-group">
                    <a ng-click="itemStatus = ''" class="btn" ng-class="{ 'btn-gray': itemStatus == '' || itemStatus == undefined}">
                        <span ng-class="{ 'strong': itemStatus == '' || itemStatus == undefined }">Tudo</span>
                        <span class=small>({{ calendar.items.length }})</span>
                    </a>

                    <a ng-click="itemStatus = 'publish'" class="btn" ng-class="{ 'btn-gray': itemStatus == 'publish'}">
                        <span ng-class="{ 'strong': itemStatus == 'publish'}">Publicados</span>
                        <span class=small>({{ (calendar.items | filter: {status: 'publish'}).length }})</span>
                    </a>

                    <a ng-click="itemStatus = 'public'" class="btn" ng-class="{ 'btn-gray': itemStatus == 'draft'}">
                        <span ng-class="{ 'strong': itemStatus == 'public'}">Público</span>
                        <span class=small>({{ (calendar.items | filter: {status: 'public'}).length }})</span>
                    </a>
                </div>


                <div class=pull-right>
                    <a ng-click="diasLetivos('lg')" class="btn btn-secondary btn-lg pull-left spacer-right">DIAS LETIVOS</a>
                    <a ng-click="addEvent('lg')" class="btn btn-secondary btn-lg pull-left">NOVO REGISTRO</a>
                </div>
            </div>

            <div class="panel-body">
                <table datatable=ng dt-options=dtOptions class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th style="width: 50%">Título</th>
                            <th style="width: 15%">Autor</th>
                            <th style="width: 15%">Campus</th>
                            <th style="width: 15%;">Data da Publicação</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr role="row" class="odd"
                            ng-repeat="item in calendar.items | filter: search | filter: { regional: { id: regional.id } } | filter: { period: active_period_filter } | filter: {status: itemStatus}">
                            <td>
                                <div>
                                    <div class="listing-actions pull-left">
                                        <a ng-click="editEvent('lg', item)" class="btn btn-warning">
                                            <i class="fa fa-pencil"></i>
                                        </a>
                                    </div>

                                    <div class="pull-left">
                                        <div>
                                            <div style="width: 100px" class="calendar-week-day pull-left">
                                                <strong>{{ convertDate(item.init_date) | date: 'dd' }} {{ item.end_date ? 'à '+(convertDate(item.end_date) | date: 'dd') : '' }}</strong>
                                                <br>
                                                <small>{{ getWeekDay(item.init_date) }} {{ item.end_date ? 'à '+getWeekDay(item.end_date) : '' }}</small>
                                            </div>

                                            <div style="width: 260px" class="pull-left">{{ item.description }}</div>
                                        </div>
                                    </div>
                                </div>
                            </td>

                            <td>{{ item.author.name }}</td>

                            <td>{{ item.regional.name }}</td>

                            <td>
                                <strong>{{ item.published_at }}</strong>
                                <br>
                                <small>{{ item.status }}</small>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>










<!-- <div class="row list-header">
    <div class=col-xs-7>
        <div class=pull-right>
            <div class="pull-left list-select spacer-right">
                <div class="form-group">
                    <select ng-model="regional.id" class="form-control">
                        <option value="1">Campus: Belo Horizonte</option>
                        <option value="2">Campus: Montes Claros</option>
                        <option>Todos os campus</option>
                    </select>
                </div>
            </div>
            <div class=pull-left>
                <form class=form-inline>
                    <div class=form-group>
                        <input type=text ng-model=search placeholder=Pesquisar class=form-control>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div ng-show=viewCalendar>
    <calendar calendar-mode="'month'" event-source=eventSource></calendar>
</div>
<div ng-show=!viewCalendar class=row>
    <div class=col-xs-12>
        <div class=row>
            <div class="form-group col-xs-3">
                <select ng-model=active_period_filter ng-options="convertPeriodStr(period_filter_item) for period_filter_item in period_filter" class=form-control></select>
            </div>
        </div>
    </div>
</div> -->
